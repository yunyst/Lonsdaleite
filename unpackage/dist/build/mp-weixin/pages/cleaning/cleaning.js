(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cleaning/cleaning"],{"1e12":function(e,t,n){"use strict";var r=n("45db"),c=n.n(r);c.a},"45db":function(e,t,n){},"4a41":function(e,t,n){"use strict";n.r(t);var r=n("6a99"),c=n("c457");for(var o in c)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return c[e]}))}(o);n("1e12");var a=n("828b"),u=Object(a["a"])(c["default"],r["b"],r["c"],!1,null,"1991f888",null,!1,r["a"],void 0);t["default"]=u.exports},"6a99":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={ProductCard:function(){return n.e("components/ProductCard/ProductCard").then(n.bind(null,"1a7c"))},AllProduct:function(){return Promise.all([n.e("common/vendor"),n.e("components/AllProduct/AllProduct")]).then(n.bind(null,"0bd1"))}},c=function(){var e=this.$createElement;this._self._c},o=[]},"8ec5":function(e,t,n){"use strict";(function(e,t){var r=n("47a9");n("71f8"),n("861b");r(n("3240"));var c=r(n("4a41"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(c.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},c1db:function(e,t,n){"use strict";(function(e,r){var c=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n("7eb4")),a=c(n("ee10")),u=c(n("7ca3")),i=n("8f59");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l={components:{ProductCard:function(){n.e("components/ProductCard/ProductCard").then(function(){return resolve(n("1a7c"))}.bind(null,n)).catch(n.oe)},AllProduct:function(){Promise.all([n.e("common/vendor"),n.e("components/AllProduct/AllProduct")]).then(function(){return resolve(n("0bd1"))}.bind(null,n)).catch(n.oe)}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,i.mapState)({iconList:function(e){return e.cleaning.iconList}})),data:function(){return{pageType:"cleaning",isLoading:!1,bannerList:[],sections:[],scrollTop:0}},methods:{goProductDetail:function(t){console.log("子组件传递过来的值：",t.product_id),e.navigateTo({url:"/pages/productDetail/productDetail?productId=".concat(t.product_id)})},fetchBanners:function(){var e=arguments,t=this;return(0,a.default)(o.default.mark((function n(){var c,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=e.length>0&&void 0!==e[0]?e[0]:"cleaning",t.isLoading=!0,t.error=null,n.prev=3,n.next=6,r.callFunction({name:"getBanners",data:{pageType:c}});case 6:a=n.sent,200===a.result.code?(t.bannerList=a.result.data||[],console.log(t.bannerList)):t.error=a.result.message||"获取数据失败",n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](3),console.error("调用云函数失败:",n.t0),t.error="网络请求失败，请稍后重试";case 14:return n.prev=14,t.isLoading=!1,n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[3,10,14,17]])})))()},fetchSections:function(){var t=this;return(0,a.default)(o.default.mark((function n(){var c;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.callFunction({name:"getCleaningSectionProducts"});case 3:c=n.sent,t.sections=c.result,n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("加载sections data失败:",n.t0),e.showToast({title:"加载失败",icon:"none"});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()},onPageScroll:function(e){this.scrollTop=e.scrollTop}},mounted:function(){var e=this;this.fetchBanners(this.pageType).then((function(){console.log("".concat(e.pageType," banners successful"))})),this.fetchSections().then((function(){console.log("sections 数据加载完成",e.sections)}))},created:function(){this.$store.dispatch("updateCategory",this.pageType)}};t.default=l}).call(this,n("df3c")["default"],n("861b")["uniCloud"])},c457:function(e,t,n){"use strict";n.r(t);var r=n("c1db"),c=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=c.a}},[["8ec5","common/runtime","common/vendor"]]]);