(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/RecommendProduct/RecommendProduct"],{"0774":function(o,n,t){"use strict";(function(o,e){var a=t("47a9");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("7eb4")),l=a(t("ee10")),u={name:"RecommendProduct",components:{AllGoodsCard:function(){t.e("components/AllGoodsCard/AllGoodsCard").then(function(){return resolve(t("4e9e"))}.bind(null,t)).catch(t.oe)}},props:["productInfo"],data:function(){return{allGoods:[],columns:[[],[]],skip:0,limit:10,loading:!1,hasMore:!0,loadMoreStatus:"loadmore",loadText:{loadmore:"轻轻上拉哦~~~~~~~~",loading:"努力加载中~~~~~~~",nomore:"实在是没有了呜呜呜呜呜呜~~~~"}}},watch:{allGoods:{handler:function(o){this.distributeGoods(o)},immediate:!0}},methods:{goProductDetail:function(n){console.log("子组件传递过来的值：",n),o.navigateTo({url:"/pages/productDetail/productDetail?productId=".concat(n.product_id)})},distributeGoods:function(o){var n=this;this.columns=[[],[]],o.forEach((function(o,t){n.columns[t%2].push(o)}))},loadMoreGoods:function(n){var t=this;return(0,l.default)(r.default.mark((function a(){var l,u;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.loading&&t.hasMore){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,t.loadMoreStatus="loading",a.prev=4,a.next=7,e.callFunction({name:"getRecommendProduct",data:{productInfo:n,skip:t.skip,limit:t.limit}});case 7:l=a.sent,u=l.result.data||[],t.allGoods=t.allGoods.concat(u),t.skip+=u.length,u.length<t.limit&&(t.hasMore=!1,t.loadMoreStatus="nomore"),a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](4),console.error("加载更多失败:",a.t0),o.showToast({title:"加载失败",icon:"none"});case 18:return a.prev=18,t.loading=!1,"nomore"!==t.loadMoreStatus&&(t.loadMoreStatus="loadmore"),a.finish(18);case 22:case"end":return a.stop()}}),a,null,[[4,14,18,22]])})))()}},mounted:function(){var o=this;this.loadMoreGoods(this.productInfo).then((function(){console.log("allGoods 数据加载完成",o.allGoods)})).catch((function(){console.log("失败")}))}};n.default=u}).call(this,t("df3c")["default"],t("861b")["uniCloud"])},"0a90":function(o,n,t){"use strict";var e=t("33bd"),a=t.n(e);a.a},"33bd":function(o,n,t){},"3af6":function(o,n,t){"use strict";t.r(n);var e=t("0774"),a=t.n(e);for(var r in e)["default"].indexOf(r)<0&&function(o){t.d(n,o,(function(){return e[o]}))}(r);n["default"]=a.a},"606b":function(o,n,t){"use strict";t.r(n);var e=t("79f8"),a=t("3af6");for(var r in a)["default"].indexOf(r)<0&&function(o){t.d(n,o,(function(){return a[o]}))}(r);t("0a90");var l=t("828b"),u=Object(l["a"])(a["default"],e["b"],e["c"],!1,null,"623c0ec7",null,!1,e["a"],void 0);n["default"]=u.exports},"79f8":function(o,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return e}));var e={AllGoodsCard:function(){return t.e("components/AllGoodsCard/AllGoodsCard").then(t.bind(null,"4e9e"))},uLoadmore:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-loadmore/u-loadmore")]).then(t.bind(null,"07d3"))}},a=function(){var o=this.$createElement;this._self._c},r=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/RecommendProduct/RecommendProduct-create-component',
    {
        'components/RecommendProduct/RecommendProduct-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("606b"))
        })
    },
    [['components/RecommendProduct/RecommendProduct-create-component']]
]);
