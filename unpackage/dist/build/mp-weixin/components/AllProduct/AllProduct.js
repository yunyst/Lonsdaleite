(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/AllProduct/AllProduct"],{"0bd1":function(t,e,o){"use strict";o.r(e);var n=o("2c39"),r=o("f09b");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("7cce");var c=o("828b"),l=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"09875083",null,!1,n["a"],void 0);e["default"]=l.exports},"2c39":function(t,e,o){"use strict";o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={AllGoodsCard:function(){return o.e("components/AllGoodsCard/AllGoodsCard").then(o.bind(null,"4e9e"))},uLoadmore:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-loadmore/u-loadmore")]).then(o.bind(null,"07d3"))}},r=function(){var t=this.$createElement;this._self._c},a=[]},"67da":function(t,e,o){"use strict";(function(t,n){var r=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(o("7eb4")),c=r(o("ee10")),l=r(o("7ca3")),u=o("8f59");function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}var d={name:"AllProduct",components:{AllGoodsCard:function(){o.e("components/AllGoodsCard/AllGoodsCard").then(function(){return resolve(o("4e9e"))}.bind(null,o)).catch(o.oe)}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){(0,l.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},(0,u.mapState)({activeCategory:function(t){return t.home.activeCategory}})),data:function(){return{allGoods:[],columns:[[],[]],skip:0,limit:20,loading:!1,hasMore:!0,loadMoreStatus:"loadmore",loadText:{loadmore:"轻轻上拉哦~~~~~~~~",loading:"努力加载中~~~~~~~",nomore:"实在是没有了呜呜呜呜呜呜~~~~"}}},watch:{allGoods:{handler:function(t){this.distributeGoods(t)},immediate:!0}},methods:{goProductDetail:function(e){console.log("子组件传递过来的值：",e),t.navigateTo({url:"/pages/productDetail/productDetail?productId=".concat(e.product_id)})},distributeGoods:function(t){var e=this;this.columns=[[],[]],t.forEach((function(t,o){e.columns[o%2].push(t)}))},loadMoreGoods:function(){var e=this;return(0,c.default)(a.default.mark((function o(){var r,c;return a.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!e.loading&&e.hasMore){o.next=2;break}return o.abrupt("return");case 2:return e.loading=!0,e.loadMoreStatus="loading",o.prev=4,o.next=7,n.callFunction({name:"getProductCardInfo",data:{pageType:e.activeCategory,skip:e.skip,limit:e.limit}});case 7:r=o.sent,c=r.result.data||[],e.allGoods=e.allGoods.concat(c),e.skip+=c.length,c.length<e.limit&&(e.hasMore=!1,e.loadMoreStatus="nomore"),o.next=18;break;case 14:o.prev=14,o.t0=o["catch"](4),console.error("加载更多失败:",o.t0),t.showToast({title:"加载失败",icon:"none"});case 18:return o.prev=18,e.loading=!1,"nomore"!==e.loadMoreStatus&&(e.loadMoreStatus="loadmore"),o.finish(18);case 22:case"end":return o.stop()}}),o,null,[[4,14,18,22]])})))()}},mounted:function(){var t=this;this.loadMoreGoods().then((function(){console.log("allGoods 数据加载完成",t.allGoods)})).catch((function(){console.log("失败")}))}};e.default=d}).call(this,o("df3c")["default"],o("861b")["uniCloud"])},"7cbc":function(t,e,o){},"7cce":function(t,e,o){"use strict";var n=o("7cbc"),r=o.n(n);r.a},f09b:function(t,e,o){"use strict";o.r(e);var n=o("67da"),r=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/AllProduct/AllProduct-create-component',
    {
        'components/AllProduct/AllProduct-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("0bd1"))
        })
    },
    [['components/AllProduct/AllProduct-create-component']]
]);
